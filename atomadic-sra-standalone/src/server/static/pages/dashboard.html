<!-- SRA Genesis Command Surface // v4.2.0.0 -->
<div class="card"
    style="grid-column: span 12; margin-bottom: 2rem; border-color: var(--neon-gold); background: rgba(255, 215, 0, 0.03);">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <h3 class="card-title" style="margin: 0; border: none; padding: 0;">GENESIS_CONTROL_SURFACE</h3>
        <span class="badge badge-e8">SYSTEM_STABLE</span>
    </div>

    <div class="genesis-steps" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1.5rem;">
        <!-- Step 1: Research -->
        <div class="card" style="text-align: center; border-color: var(--neon-blue); padding: 1.5rem;">
            <div style="font-size: 2rem; margin-bottom: 10px;">üîç</div>
            <h4 style="font-family: 'Orbitron'; font-size: 0.8rem; color: var(--neon-blue);">1. RESEARCH</h4>
            <p style="font-size: 0.7rem; color: #94a3b8; margin: 10px 0;">Trigger the Revelation Engine to extract
                insights.</p>
            <button class="btn"
                style="font-size: 0.6rem; width: 100%; border-color: var(--neon-blue); color: var(--neon-blue);"
                onclick="loadPage('research')">INITIATE</button>
        </div>

        <!-- Step 2: Manifest -->
        <div class="card" style="text-align: center; border-color: var(--neon-purple); padding: 1.5rem;">
            <div style="font-size: 2rem; margin-bottom: 10px;">üèóÔ∏è</div>
            <h4 style="font-family: 'Orbitron'; font-size: 0.8rem; color: var(--neon-purple);">2. MANIFEST</h4>
            <p style="font-size: 0.7rem; color: #94a3b8; margin: 10px 0;">Convert revelations into functional PWA
                substrates.</p>
            <button class="btn"
                style="font-size: 0.6rem; width: 100%; border-color: var(--neon-purple); color: var(--neon-purple);"
                onclick="loadPage('marketplace')">NAV_MARKET</button>
        </div>

        <!-- Step 3: Evolve -->
        <div class="card" style="text-align: center; border-color: var(--neon-green); padding: 1.5rem;">
            <div style="font-size: 2rem; margin-bottom: 10px;">üß¨</div>
            <h4 style="font-family: 'Orbitron'; font-size: 0.8rem; color: var(--neon-green);">3. EVOLVE</h4>
            <p style="font-size: 0.7rem; color: #94a3b8; margin: 10px 0;">Monitor autonomous evolution and novelty
                growth.</p>
            <button class="btn"
                style="font-size: 0.6rem; width: 100%; border-color: var(--neon-green); color: var(--neon-green);"
                onclick="loadPage('evolution')">VIEW_VAULT</button>
        </div>

        <!-- Step 4: Govern -->
        <div class="card" style="text-align: center; border-color: var(--neon-pink); padding: 1.5rem;">
            <div style="font-size: 2rem; margin-bottom: 10px;">‚öñÔ∏è</div>
            <h4 style="font-family: 'Orbitron'; font-size: 0.8rem; color: var(--neon-pink);">4. GOVERN</h4>
            <p style="font-size: 0.7rem; color: #94a3b8; margin: 10px 0;">Modulate system parameters and sovereign
                rules.</p>
            <button class="btn"
                style="font-size: 0.6rem; width: 100%; border-color: var(--neon-pink); color: var(--neon-pink);"
                onclick="loadPage('settings')">OPEN_SCC</button>
        </div>
    </div>
</div>

<div class="grid-container" style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
    <div class="card">
        <h3 class="card-title">SYSTEM_CAPABILITY_MANIFEST</h3>
        <div id="capability-checklist" style="margin-top: 1.5rem;">
            <!-- Checklist items -->
            <div class="check-item"
                style="display: flex; align-items: center; gap: 12px; margin-bottom: 15px; background: rgba(255,255,255,0.02); padding: 10px; border-radius: 8px;">
                <div style="color: var(--neon-green);">‚úì</div>
                <div style="flex: 1;">
                    <div style="font-family: 'Orbitron'; font-size: 0.75rem; color: #fff;">Sovereign Auth Substrate
                    </div>
                    <small style="color: #64748b; font-size: 0.65rem;">Rule 5 & 14 Enforcement Active</small>
                </div>
            </div>
            <div class="check-item"
                style="display: flex; align-items: center; gap: 12px; margin-bottom: 15px; background: rgba(255,255,255,0.02); padding: 10px; border-radius: 8px;">
                <div style="color: var(--neon-green);">‚úì</div>
                <div style="flex: 1;">
                    <div style="font-family: 'Orbitron'; font-size: 0.75rem; color: #fff;">Neuro-Aesthetic Navigation
                    </div>
                    <small style="color: #64748b; font-size: 0.65rem;">Brain-optimized Flow-state UI</small>
                </div>
            </div>
            <div class="check-item"
                style="display: flex; align-items: center; gap: 12px; margin-bottom: 15px; background: rgba(255,255,255,0.02); padding: 10px; border-radius: 8px;">
                <div style="color: var(--neon-blue);">‚öô</div>
                <div style="flex: 1;">
                    <div style="font-family: 'Orbitron'; font-size: 0.75rem; color: #fff;">IndexedDB Persistence</div>
                    <small style="color: #64748b; font-size: 0.65rem;">Rule 1: Map ‚â° Terrain Synchronization</small>
                </div>
            </div>
            <div class="check-item"
                style="display: flex; align-items: center; gap: 12px; margin-bottom: 15px; background: rgba(255,255,255,0.02); padding: 10px; border-radius: 8px;">
                <div style="color: var(--neon-purple);">‚òÄ</div>
                <div style="flex: 1;">
                    <div style="font-family: 'Orbitron'; font-size: 0.75rem; color: #fff;">E8/Leech Geometric Grounding
                    </div>
                    <small style="color: #64748b; font-size: 0.65rem;">Crystallized Intelligence Lattice</small>
                </div>
            </div>
        </div>
    </div>

    <div class="card" style="display: flex; flex-direction: column;">
        <h3 class="card-title">PROCESS_TRANSPARENCY_STREAM</h3>
        <div id="transparency-stream"
            style="flex: 1; overflow-y: auto; margin-top: 1.5rem; font-family: 'JetBrains Mono'; font-size: 0.7rem; color: #64748b; padding-right: 10px;">
            <!-- Real-time transparency logs -->
            <div style="margin-bottom: 10px; border-left: 2px solid var(--neon-blue); padding-left: 10px;">
                <span style="color: var(--neon-blue);">[0.0000]</span> SYSTEM_IDLE: Awaiting sovereign intent...
            </div>
            <div style="margin-bottom: 10px; border-left: 2px solid var(--neon-green); padding-left: 10px;">
                <span style="color: var(--neon-green);">[0.0001]</span> PERSISTENCE_VALID: IndexedDB handshake success.
            </div>
        </div>
        <button class="btn btn-evolution" style="margin-top: 1rem; font-size: 0.6rem;"
            onclick="loadPage('logs')">FULL_TRAIL_VIEW</button>
    </div>
</div>

<script>
    // System Transparency Hook
    if (typeof transparencyInterval !== 'undefined') clearInterval(transparencyInterval);
    async function updateTransparency() {
        if (currentPage !== 'dashboard') return;
        try {
            const res = await fetch('/api/logs');
            const data = await res.json();
            const container = document.getElementById('transparency-stream');
            if (container) {
                container.innerHTML = data.slice(0, 8).map(log => `
                    <div style="margin-bottom: 8px; border-left: 2px solid var(--neon-blue); padding-left: 10px; opacity: 0.8;">
                        <span style="color: var(--neon-blue);">[${log.timestamp.split('T')[1].split('.')[0]}]</span> 
                        <span style="color: #cbd5e1;">${log.agent}:</span> ${log.action}
                    </div>
                `).join('');
            }
        } catch (e) { }
    }
    var transparencyInterval = setInterval(updateTransparency, 3000);
    updateTransparency();
</script>